<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Calculadora de Garantia (12 meses) + Proposta</title>

  <style>
    :root{
      --bg:#070b14;--card:#0f1a33;--line:#203055;
      --text:#e9f0ff;--muted:#9fb0d0;--accent:#3c5aa6;
    }
    *{box-sizing:border-box;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;}
    body{margin:0;background:linear-gradient(180deg,#070b14,#0b1220);color:var(--text);padding:24px;}
    .wrap{max-width:1100px;margin:auto;}
    h1{margin:0 0 16px;font-size:22px;}

    .grid{display:grid;grid-template-columns:1fr;gap:16px;}
    @media(min-width:900px){.grid{grid-template-columns:1fr 1fr;}}

    .card{
      background:rgba(15,26,51,.95);
      border:1px solid var(--line);
      border-radius:16px;
      padding:18px;
      display:flex;flex-direction:column;
    }

    label{font-size:12px;color:var(--muted);margin:10px 0 6px;}
    input{
      width:100%;padding:10px 12px;border-radius:12px;
      border:1px solid var(--line);background:#0b1430;color:var(--text);
    }

    .row{display:grid;grid-template-columns:1fr 1fr;gap:10px;}

    .hint{
      font-size:12px;color:var(--muted);line-height:1.35;margin-top:12px;
      border-left:3px solid var(--accent);padding-left:10px;
    }

    .result{display:grid;gap:10px;}
    .kpi{
      border:1px solid var(--line);border-radius:14px;
      padding:12px;background:rgba(11,20,48,.6);
    }
    .kpi .t{font-size:12px;color:var(--muted);}
    .kpi .v{font-size:18px;margin-top:4px;}

    .footer-actions{
      margin-top:auto;padding-top:16px;
      display:flex;gap:10px;flex-wrap:wrap;
    }

    button{
      cursor:pointer;border:1px solid var(--line);
      background:#0b1430;color:var(--text);
      padding:10px 14px;border-radius:12px;min-width:160px;
    }
    button:hover{border-color:var(--accent);}

    /* BLOQUEIO POR SENHA */
    #lock{
      position:fixed;inset:0;z-index:9999;
      background:#070b14;display:flex;align-items:center;justify-content:center;
    }
    #lockBox{
      background:#0f1a33;border:1px solid #203055;border-radius:16px;
      padding:24px;width:100%;max-width:360px;text-align:center;
    }
    #lockBox input{margin-top:10px;}
    #lockErr{display:none;color:#ff6b6b;font-size:12px;margin-top:10px;}

    /* IMPRESSÃO */
    #printArea{display:none;color:#111;}
    @media print{
      body{background:#fff;color:#111;padding:0;}
      #app,#lock{display:none;}
      #printArea{display:block;padding:24px;}
      .p-box{border:1px solid #bbb;border-radius:10px;padding:14px;margin:12px 0;}
      .p-title{font-size:18px;font-weight:700;margin-bottom:8px;}
      .p-sub{font-size:12px;color:#333;margin-bottom:18px;}
      .p-lbl{font-size:11px;color:#444;}
      .p-val{font-size:14px;font-weight:600;margin-bottom:8px;}
      .p-legal{font-size:12px;line-height:1.45;}
    }
  </style>
</head>

<body>

<!-- BLOQUEIO -->
<div id="lock">
  <div id="lockBox">
    <h2>Acesso restrito</h2>
    <p style="font-size:13px;color:#9fb0d0">Informe a senha</p>
    <input id="senha" type="password" placeholder="Senha de acesso">
    <button onclick="acessar()">Entrar</button>
    <div id="lockErr">Senha incorreta</div>
  </div>
</div>

<div class="wrap" id="app">
  <h1>Calculadora de Garantia (Contrato 12 meses) + Proposta</h1>

  <div class="grid">

    <!-- ENTRADA -->
    <div class="card">
      <label>Nome da empresa</label>
      <input id="empresa">

      <label>Dívida (R$)</label>
      <input id="divida">

      <div class="row">
        <div>
          <label>% a garantir</label>
          <input id="pct" value="100">
        </div>
        <div>
          <label>Taxa mensal (% a.m.)</label>
          <input id="taxa" value="0,36">
        </div>
      </div>

      <div class="hint">
        1) dívida → 2) % garantido → 3) custo mensal → 4) split 10/90 → 5) total 12 meses
      </div>

      <div class="footer-actions">
        <button onclick="calcular()">Calcular</button>
        <button onclick="imprimir()">Gerar / Imprimir proposta</button>
        <button onclick="limpar()">Limpar</button>
      </div>
    </div>

    <!-- RESULTADOS -->
    <div class="card result">
      <div class="kpi"><div class="t">Empresa</div><div class="v" id="rEmpresa">—</div></div>
      <div class="kpi"><div class="t">Dívida</div><div class="v" id="rDivida">—</div></div>
      <div class="kpi"><div class="t">Garantia</div><div class="v" id="rGarantia">—</div></div>
      <div class="kpi"><div class="t">Mensal</div><div class="v" id="rMensal">—</div></div>
      <div class="kpi"><div class="t">Assessoria (10%)</div><div class="v" id="rAss">—</div></div>
      <div class="kpi"><div class="t">Aluguel (90%)</div><div class="v" id="rAlug">—</div></div>
      <div class="kpi"><div class="t">Total 12 meses</div><div class="v" id="rTotal">—</div></div>
    </div>

  </div>
</div>

<!-- IMPRESSÃO -->
<div id="printArea">
  <div class="p-title">Proposta – Contrato de Garantia (12 meses)</div>
  <div class="p-sub" id="pMeta"></div>

  <div class="p-box">
    <div class="p-lbl">Empresa</div><div class="p-val" id="pEmpresa"></div>
    <div class="p-lbl">Dívida</div><div class="p-val" id="pDivida"></div>
    <div class="p-lbl">Garantia</div><div class="p-val" id="pGarantia"></div>
    <div class="p-lbl">Mensal</div><div class="p-val" id="pMensal"></div>
    <div class="p-lbl">Assessoria (10%)</div><div class="p-val" id="pAss"></div>
    <div class="p-lbl">Aluguel (90%)</div><div class="p-val" id="pAlug"></div>
    <div class="p-lbl">Total 12 meses</div><div class="p-val" id="pTotal"></div>
  </div>

  <div class="p-box p-legal">
    Em execução judicial, o devedor normalmente: (i) paga, (ii) parcela, ou (iii) garante o juízo
    por bem idôneo (ex.: imóvel, seguro-garantia ou fiança bancária), permitindo a continuidade da
    discussão do débito conforme aceitação do juízo.
  </div>

  <div class="p-box">
    <strong>José Falcão</strong><br>
    Especialista em Negociação Regulamentar e Risco Operacional<br>
    Grupo Villela – Gestão Empresarial<br>
    Contato: (51) 9 9203-9175
  </div>
</div>

<script>
const SENHA = "joséfalcao";

function acessar(){
  if(document.getElementById('senha').value === SENHA){
    document.getElementById('lock').style.display='none';
  } else {
    document.getElementById('lockErr').style.display='block';
  }
}

function n(v){return parseFloat(v.replace(/\./g,'').replace(',','.'))||0;}
function m(v){return v.toLocaleString('pt-BR',{style:'currency',currency:'BRL'});}

function calcular(){
  const emp=empresa.value, d=n(divida.value), p=n(pct.value)/100, t=n(taxa.value)/100;
  const g=d*p, mensal=g*t, ass=mensal*0.1, alug=mensal*0.9, total=mensal*12;

  rEmpresa.innerText=emp;
  rDivida.innerText=m(d);
  rGarantia.innerText=(p*100)+'% → '+m(g);
  rMensal.innerText=m(mensal);
  rAss.innerText=m(ass);
  rAlug.innerText=m(alug);
  rTotal.innerText=m(total);

  pEmpresa.innerText=emp;
  pDivida.innerText=m(d);
  pGarantia.innerText=(p*100)+'% → '+m(g);
  pMensal.innerText=m(mensal);
  pAss.innerText=m(ass);
  pAlug.innerText=m(alug);
  pTotal.innerText=m(total);
  pMeta.innerText='Gerado em '+new Date().toLocaleString('pt-BR');
}

function imprimir(){calcular();window.print();}
function limpar(){empresa.value='';divida.value='';}
</script>

</body>
</html>
